<% content_for :title do %>Where do you want to go?<% end %>


<h1>Where do you want to go?</h1>

<div class="wrapper">

<!-- Tag para iniciar um form -->
<%= form_tag({controller: "search", action: :search_response}, method: "get", class: "search_fields") do %>

<!-- Form contents goes here --><br/>

  
<!-- Destiny Field -->
  <%= label_tag(:destination, "Destination:") %>
  <%= text_field_tag(:destination) %> 
  
  
<!-- BotÃ£o Enviar -->
  <%= submit_tag("Show me!") %>
<% end %>


<!-- Getting Information of the current position -->

<script type="text/javascript">
function showLocation(position) {
  var latitude = position.coords.latitude;
  var longitude = position.coords.longitude;
  alert("Latitude : " + latitude + " Longitude: " + longitude);
  }

function errorHandler(err) {
  if(err.code == 1) {
    alert("Error: Access is denied!");
  }else if( err.code == 2) {
    alert("Error: Position is unavailable!");
  }
}
function getLocation(){

   if(navigator.geolocation){
      // timeout at 60000 milliseconds (60 seconds)
      var options = {timeout:60000};
      navigator.geolocation.getCurrentPosition(showLocation, 
                                               errorHandler,
                                               options);
   }else{
      alert("Sorry, browser does not support geolocation!");
   }
}
</script>


</div>
</div>
